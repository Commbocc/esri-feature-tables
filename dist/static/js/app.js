webpackJsonp([1],{128:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(127),s=a(349),n=a.n(s),i=a(135);r.a.config.productionTip=!1,new r.a({el:"#app",router:i.a,template:"<App/>",components:{App:n.a}})},130:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(61);window.tabs=window.tabs||[{path:"/roads",text:"Road Closures"},{path:"/lanes",text:"Lane Closures"},{path:"/resurfacings",text:"Road Resurfacings"}],t.default={name:"app",data:function(){return{tabs:window.tabs}}}},131:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(61);t.default={name:"show_road",data:function(){return{detour:null}},methods:{get_detour:function(){var e=this;r.a(["esri/tasks/QueryTask","esri/tasks/support/Query","esri/symbols/SimpleLineSymbol","esri/Graphic"],function(t,a,r,s){e.$parent.mapview.then(function(){var n=new t({url:"https://services.arcgis.com/apTfC6SUmnNfnxuF/ArcGIS/rest/services/Lane_RoadClosures_PublicView/FeatureServer/2"}),i=new a;i.returnGeometry=!0,i.outFields=["*"],i.where="TTC_NBR = '"+e.$parent.feature.attributes.TTC_NBR+"'",i.outSpatialReference=e.$parent.mapview.get("spatialReference"),n.execute(i).then(function(t){e.detour=t.features[0];var a=e.detour.get("geometry"),n=new r({color:"#31708f",width:"2px",style:"solid"}),i=new s({symbol:n,geometry:a});e.$parent.mapview.graphics.unshift(i),e.$parent.mapview.extent=a.extent.expand(3)})})})}},mounted:function(){this.get_detour()}}},132:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(137),s=a.n(r),n=a(61),i=a(352),o=a.n(i);t.default={name:"esri-feture-table",props:{url:{default:""},oid:{default:"OBJECTID"},fields:{type:Object,default:function(){}},filter:{default:!0},filterPlaceholder:{default:"Filter..."}},data:function(){return{filter_text:"",features:[],feature_fields:[],loaded:!1}},components:{"esri-feature-table-row":o.a},computed:{is_loading:function(){return!this.loaded},has_features:function(){return this.features.length},query_where_exp:function(){var e=this;return""!==this.filter_text?this.field_keys().map(function(t){return t+" LIKE '%"+e.filter_text+"%'"}).join(" OR "):"1=1"},sorted_features:function(){return this.features.sort(this.sort_function)},pre_route_path:function(){return this.$route.matched[0].path},out_fields:function(){var e=this.field_keys();return e.unshift(this.oid),e}},methods:{field_keys:function(){return s()(this.fields)},get_features:function(){var e=this;n.a(["esri/layers/FeatureLayer","esri/tasks/support/Query"],function(t,a){var r=new t({url:e.url}).load();r.then(function(){var t=new a;t.outFields=e.out_fields,t.where=e.query_where_exp,r.queryFeatures(t).then(function(t){e.features=t.features,e.feature_fields=t.fields,e.loaded=!0})})})},sort_function:function(e,t){var a=e.get("attributes")[this.field_keys()[0]]||"Z",r=t.get("attributes")[this.field_keys()[0]]||"Z";return a.toLowerCase()<r.toLowerCase()?-1:a.toLowerCase()>r.toLowerCase()?1:0}},beforeMount:function(){this.get_features()}}},133:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(136),s=a.n(r),n=a(126),i=a.n(n);t.default={name:"esri-feature-table-row",props:["item"],data:function(){return{}},computed:{feature_id:function(){return this.item.attributes[this.$parent.oid]},route_path:function(){return this.$parent.pre_route_path+"/"+this.feature_id},first_key:function(){return this.$parent.fields[s()(this.$parent.fields)[0]]},aria_label:function(){return"Additional information for "+this.formatted_attr(this.first_key)}},methods:{formatted_attr:function(e){switch(i.a.findWhere(this.$parent.feature_fields,{name:e}).type){case"date":if(this.item.attributes[e]){var t={year:"numeric",month:"long",day:"numeric"};return new Date(this.item.attributes[e]).toLocaleString("en-us",t)}return null;default:return this.item.attributes[e]}}}}},134:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(61),s=a(126),n=a.n(s);t.default={name:"esri-feture-table-show",props:["fields","customComponent"],data:function(){return{feature:!1,mapview:!1,loaded:!1,feature_fields:[]}},computed:{is_loading:function(){return!this.loaded},modal_header_text:function(){return this.feature?this.feature.get("attributes")[this.$parent.field_keys()[0]]:"Not Found"},query_where_exp:function(){return this.$parent.oid+" = "+this.$route.params.id},out_fields:function(){return this.fields?this.fields:n.a.invert(this.feature.attributes)}},methods:{formatted_attr:function(e){switch(n.a.findWhere(this.feature_fields,{name:e}).type){case"date":if(this.feature.attributes[e]){var t={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(this.feature.attributes[e]).toLocaleString("en-us",t)}return null;default:return this.feature.attributes[e]}},get_feature:function(){var e=this;r.a(["esri/WebMap","esri/views/MapView","esri/tasks/QueryTask","esri/tasks/support/Query","esri/symbols/SimpleLineSymbol","esri/Graphic"],function(t,a,r,s,n,i){var o=new t({portalItem:{id:"b51fb4e76e154e1b93b630eac3ea94ae"}});e.mapview=new a({container:"mapDiv",map:o}),e.mapview.then(function(){var t=new r({url:e.$parent.url}),a=new s;a.returnGeometry=!0,a.outFields=["*"],a.where=e.query_where_exp,a.outSpatialReference=e.mapview.get("spatialReference"),t.execute(a).then(function(t){e.feature=t.features[0],e.loaded=!0,e.feature_fields=t.fields;var a=e.feature.get("geometry"),r=new n({color:"#f00",width:"5px",style:"solid"}),s=new i({symbol:r,geometry:a});e.mapview.graphics.add(s),e.mapview.extent=a.extent.expand(3)})})})}},mounted:function(){var e=this;$(this.$el).modal("show"),$(this.$el).on("hidden.bs.modal",function(t){e.$router.push({name:e.$route.matched[0].name})}),this.get_feature()}}},135:function(e,t,a){"use strict";var r=a(127),s=a(359),n=a(351),i=a.n(n),o=a(353),l=a.n(o),u=a(350),d=a.n(u);r.a.use(s.a),t.a=new s.a({linkActiveClass:"active",routes:[{path:"/roads",name:"RoadClosures",component:i.a,props:{filterPlaceholder:"Filter Roads...",fields:{"Closed Road":"STREET",Closed:"Date_Closed",Opened:"Date_Opened"},url:"https://services.arcgis.com/apTfC6SUmnNfnxuF/ArcGIS/rest/services/Lane_RoadClosures_PublicView/FeatureServer/1"},children:[{path:":id",component:l.a,props:{fields:{"Closed Road":"STREET",From:"FROM_STREET",To:"TO_STREET",Closed:"Date_Closed",Opened:"Date_Opened",Reason:"REASON",Contractor:"CONTRACTOR"},customComponent:d.a}}]},{path:"/lanes",name:"LaneClosures",component:i.a,props:{filterPlaceholder:"Filter Lanes...",fields:{"Closed Lane":"STREET",Closed:"Date_Closed",Opened:"Date_Opened"},url:"https://services.arcgis.com/apTfC6SUmnNfnxuF/ArcGIS/rest/services/Lane_RoadClosures_PublicView/FeatureServer/0"},children:[{path:":id",component:l.a,props:{fields:{"Closed Lane":"STREET",From:"FROM_STREET",To:"TO_STREET",Closed:"Date_Closed",Opened:"Date_Opened",Reason:"REASON",Contractor:"CONTRACTOR"}}}]},{path:"/resurfacings",name:"RoadResurfacings",component:i.a,props:{filterPlaceholder:"Filter Resurfacings...",fields:{Road:"STREET",From:"FRSTNM",To:"TOSTNM"},url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/CoinMap/RoadResurfacePlan/MapServer/0"},children:[{path:":id",component:l.a,props:{fields:{"Closed Lane":"STREET",From:"FRSTNM",To:"TOSTNM",Type:"Type",Project:"Project"}}}]},{path:"*",redirect:window.tabs[0].path}]})},347:function(e,t){},349:function(e,t,a){var r=a(48)(a(130),a(358),null,null,null);e.exports=r.exports},350:function(e,t,a){var r=a(48)(a(131),a(355),null,null,null);e.exports=r.exports},351:function(e,t,a){function r(e){a(347)}var s=a(48)(a(132),a(354),r,null,null);e.exports=s.exports},352:function(e,t,a){var r=a(48)(a(133),a(356),null,null,null);e.exports=r.exports},353:function(e,t,a){var r=a(48)(a(134),a(357),null,null,null);e.exports=r.exports},354:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"esri-feature-table"},[a("div",{staticClass:"panel panel-default"},[e.filter?a("header",{staticClass:"panel-heading"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter_text,expression:"filter_text"}],staticClass:"form-control input-lg",attrs:{placeholder:e.filterPlaceholder,"aria-label":e.filterPlaceholder},domProps:{value:e.filter_text},on:{keyup:e.get_features,input:function(t){t.target.composing||(e.filter_text=t.target.value)}}})]):e._e(),e._v(" "),e.is_loading?a("div",{staticClass:"panel-body"},[e._m(0)]):e.has_features?a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-condensed table-striped table-bordered"},[a("thead",[a("tr",[a("th"),e._v(" "),e._l(e.fields,function(t,r,s){return a("th",[e._v(e._s(r))])})],2)]),e._v(" "),a("tbody",e._l(e.sorted_features,function(t){return a("esri-feature-table-row",{key:t,tag:"tr",attrs:{item:t,fields:e.fields,oid:e.oid,url:e.url}})}))])]):a("div",{staticClass:"panel-body"},[a("p",{staticClass:"h1 text-center caption"},[e._v("\n\t\t\t\tNo Results...\n\t\t\t")])])]),e._v(" "),a("router-view")],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"h1 text-center caption"},[a("i",{staticClass:"fa fa-fw fa-spinner fa-spin"}),e._v("\n\t\t\t\tLoading...\n\t\t\t")])}]}},355:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"roads-show"},[e.detour?a("div",{staticClass:"alert alert-info"},[a("strong",[e._v("Detour Available")]),a("br"),e._v("\n\t\t"+e._s(e.detour.get("attributes").REASON)+"\n\t")]):e._e()])},staticRenderFns:[]}},356:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"esri-feature-table-row"},[a("td",{attrs:{width:"1"}},[e._m(0)],1),e._v(" "),e._l(e.$parent.fields,function(t){return a("td",[e._v("\n\t\t"+e._s(e.formatted_attr(t))+"\n\t")])})],2)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{staticClass:"btn btn-default btn-xs",attrs:{to:{path:e.route_path},"aria-label":e.aria_label}},[a("i",{staticClass:"fa fa-fw fa-info-circle",attrs:{"aria-hidden":"true"}})])}]}},357:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","data-backdrop":"false","aria-labelledby":"featureTableShowModalLabel"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("header",{staticClass:"modal-header"},[e._m(0),e._v(" "),e.is_loading?a("h4",{staticClass:"modal-title"},[e._v("\n\t\t\t\t\tLoading...\n\t\t\t\t")]):a("h4",{staticClass:"modal-title",attrs:{id:"featureTableShowModalLabel"}},[e._v("\n\t\t\t\t\t"+e._s(e.modal_header_text)+"\n\t\t\t\t")])]),e._v(" "),e._m(1),e._v(" "),e.is_loading?a("div",{staticClass:"modal-body"},[e._v("\n\t\t\t\tLoading...\n\t\t\t")]):e.feature?a("div",{staticClass:"modal-body"},[a(e.customComponent,{tag:"component",attrs:{if:"customComponent"}}),e._v(" "),a("dl",[e._l(e.out_fields,function(t,r,s){return[a("dt",[e._v(e._s(r))]),e._v(" "),a("dd",[e._v("\n\t\t\t\t\t\t\t"+e._s(e.formatted_attr(t))+"\n\t\t\t\t\t\t")])]})],2)],1):a("div",{staticClass:"modal-body"},[e._v("\n\t\t\t\tA Feature with that ID does not exist.\n\t\t\t")]),e._v(" "),e._m(2)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("figure",{staticClass:"embed-responsive embed-responsive-16by9"},[a("div",{staticClass:"embed-responsive-item",attrs:{id:"mapDiv"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")])])}]}},358:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{attrs:{id:"app"}},[a("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},e._l(e.tabs,function(t){return e.tabs.length>1?a("router-link",{key:t.text,attrs:{to:t.path,tag:"li",role:"presentation"}},[a("a",{attrs:{role:"tab","data-toggle":"tab"}},[e._v(e._s(t.text))])]):e._e()})),e._v(" "),a("router-view",{key:e.$route.matched[0].path})],1)},staticRenderFns:[]}},361:function(e,t,a){a(129),e.exports=a(128)}},[361]);
//# sourceMappingURL=app.js.map